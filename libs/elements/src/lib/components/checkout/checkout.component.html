
<mat-tab-group>
  <mat-tab *ngFor="let plan of plans" [disabled]="plan.disabled">
    <ng-template mat-tab-label>
      {{ plan.name }}
    </ng-template>
    <div class="flex flex-col lg:flex-row">
      <div class="flex-1 p-6 mr-4 bg-white dark:bg-gray-800 flex flex-col lg:w-full xl:w-full">
        <h1 class="text-lg font-semibold mb-2">Subscribe to Andika!</h1>

        <div class="flex flex-col">
          
          <label class="inline-flex items-center mb-2">
            <input
              type="radio"
              class="form-radio"
              name="payment-option"
              value="yearly"
              (change)="updatePlans('yearly')"
              [(ngModel)]="selectedPaymentOption"
            />
            <span class="ml-2">Pay Yearly (Get 2 months free!)</span>
          </label> 
      
          <label class="inline-flex items-center mb-3">
            <input
              type="radio"
              class="form-radio"
              name="payment-option"
              value="monthly"
              (change)="updatePlans('monthly')"
              [(ngModel)]="selectedPaymentOption"
            />
            <span class="ml-2">Pay Monthly</span>
          </label>

          
        </div>
        <div  class="inline-flex items-center">
          <div #paypal></div>

          <!-- <button (click)="createSubscription('yearly')">Pay Yearly (Get 2 months free!)</button> -->
          <button>Pay Monthly</button>
          
        </div>

        <div class="flex flex-row justify-center items-center mt-2">
          <hr class="border w-10" />
          <p class="flex flex-shrink-0 px-4 py-2 text-base leading-4 text-gray-600 dark:text-white">
            or pay with your phone
          </p>
          <hr class="border w-full" />
        </div>
      
        <button class="w-48 h-10 px-2 py-3 text-sm border border-transparent hover:border-gray-300 bg-gray-900 dark:bg-white dark:hover:bg-gray-900 dark:hover:border-gray-900 dark:text-gray-900 dark:hover:text-white hover:bg-white text-white hover:text-gray-900 flex flex-row justify-center items-center space-x-2 rounded">
          <div>
            <img src="/assets/img/logos/M-Pesa-01.png" alt="mpesa logo" class="h-10" />
          </div>
        </button>
      
        <div class="mt-6">
          <p class="text-xs font-light">
            Safe and secure. Cancel anytime. No strings attached.
          </p>
          <div class="flex justify-center items-center">
            <img
              src="https://img.icons8.com/3d-fluency/94/security-checked.png"
              alt=""
              class="h-5"
            />
          </div>
        </div>
        
      </div>
      

      <div class="flex-1">
        <!-- Right Column -->
        <div class="p-6 mt-4 rounded-lg bg-zinc-700">
          <h4 class="text-lg font-bold text-yellow-400">{{ plan.name }}</h4>
          <hr>
          <p class="text-zinc-300">{{ plan.description }}</p>
          <ul class="mt-4 list-disc list-inside text-white">
            <li *ngFor="let feature of plan.features">{{ feature }}</li>
          </ul>
          <div class="flex justify-between items-center mt-4">
            <div class="flex items-center">
              <p class="text-lg font-semibold text-yellow-300">
                {{ getPlanPrice(plan) }}
              </p>
              <p class="ml-2 text-yellow-300">{{ plan.duration }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </mat-tab>
</mat-tab-group>
